\chapter{Implications between selected laws}

We collect here some notable implications between the the selected laws in Chapter \ref{subgraph-eq}.   By Theorem \ref{sound-complete}, every implication can basically be established by a finite number of rewrites.  In most cases, the sequence of rewrites is quite straightforward, and the implication is very easy, but we record some less obvious examples.

\begin{theorem}[387 implies 43]\label{387_implies_43}\uses{eq387,eq43}\lean{Subgraph.Equation387_implies_Equation43}\leanok  Definition \ref{eq387} implies Definition \ref{eq43}.
\end{theorem}

\begin{proof}\leanok (From \href{https://mathoverflow.net/a/450905/766}{MathOverflow}).
  By Definition \ref{eq387}, one has the law
\begin{equation}\label{387-again}
  (x \circ x) \circ y = y \circ x.
\end{equation}
Specializing to $y=x \circ x$, we conclude
$$(x \circ x) \circ (x \circ x) = (x \circ x) \circ x$$
and hence by another application of \eqref{eq387} we see that $x \circ x$ is idempotent:
\begin{equation}\label{idem}
  (x \circ x) \circ (x \circ x) = x \circ x.
\end{equation}
Now, replacing $x$ by $x \circ x$ in \eqref{387-again} and then using \eqref{idem} we see that
$$ (x \circ x) \circ y = y \circ (x \circ x)$$
so in particular $x \circ x$ commutes with $y \circ y$:
\begin{equation}\label{op-idem} (x \circ x) \circ (y \circ y) = (y \circ y) \circ (x \circ x).
\end{equation}
Also, from two applications of \eqref{387-again} one has
$$(x \circ x) \circ (y \circ y) = (y \circ y) \circ x = x \circ y.$$
Thus \eqref{op-idem} simplifies to $x \circ y = y \circ x$, which is Definition \ref{eq43}.
\end{proof}

\begin{theorem}[29 equivalent to 14]\label{29_equiv_14} \uses{eq29,eq14}\lean{Subgraph.Equation29_implies_Equation14}\leanok  Definition \ref{eq29} is equivalent to Definition \ref{eq14}.
\end{theorem}

This result was posed as Problem A1 from Putnam 2001.

\begin{proof}\leanok\uses{duality} By Lemma \ref{duality} it suffices to show that Definition \ref{eq29} implies Definition \ref{eq14}.  From Definition \ref{eq29} one has
  $$ x = ((x \circ y) \circ x) \circ (x \circ y)$$
  and also
  $$ y = (x \circ y) \circ x$$
  giving $x = y \circ (x \circ y)$, which is Definition \ref{eq14}.
\end{proof}

\begin{theorem}[14 implies 29]\label{14_implies_29} \uses{eq29,eq14}\lean{Subgraph.Equation14_implies_Equation29}\leanok  Definition \ref{eq14} implies Definition \ref{eq29}.
\end{theorem}

This result was posed as Problem A1 from Putnam 2001.

\begin{proof}\leanok
\end{proof}

The following result was Problem A4 on Putnam 1978.

\begin{theorem}[3744 implies 3722, 381]\label{3744_implies_3722_381}\uses{eq3744, eq3722, eq381} Definition \ref{eq3744} implies Definition \ref{eq3722} and Definition \ref{eq381}.
\end{theorem}

\begin{proof} By hypothesis, one has
$$x \circ y = (x \circ z) \circ (w \circ y)
  $$
for all $x,y,z,w$.  Various specializations of this give
\begin{align}
 x \circ y &= (x \circ z) \circ (y \circ y) \label{381-1} \\
 x \circ z &= (x \circ z) \circ (x \circ z) \label{381-2} \\
(x \circ z) \circ y &= ((x \circ z) \circ (x \circ z)) \circ (y \circ y) \label{381-3}.
\end{align}
The equation \eqref{381-2} gives Definition \ref{eq3722}, while \eqref{381-1}, \eqref{381-2}, \eqref{381-3} gives
$$ x \circ y = (x\circ z) \circ y$$
which is Definition \ref{eq381}.
\end{proof}

\begin{theorem}[1689 is equivalent to 2]\label{1689_equiv_2}\uses{eq1689, eq2} Definition \ref{eq1689} is equivalent to Definition \ref{eq2}.
\end{theorem}


\begin{proof}\leanok  The implication of Definition \ref{eq1689} from Definition \ref{eq2} is trivial.  The converse is a surprisingly long chain of implications; see pages 326--327 of \cite{Kisielewicz2}.  The initial law
$$ x = (y \circ x) \circ ((x \circ z) \circ z)$$
is used to obtain, in turn,
$$ x \circ ((((x \circ y) \circ y) \circ z) \circ z) = (x \circ y) \circ y,$$
$$(x \circ (y \circ z)) \circ (z \circ ((z \circ w) \circ w)) = y \circ z,$$
$$x \circ (y \circ ((y \circ z) \circ z)) = (x \circ y) \circ y,$$
$$((x \circ (y \circ z)) \circ z) \circ z = y \circ z,$$
$$(x \circ (y \circ (z \circ w))) \circ (z \circ w) = y \circ (z \circ w),$$
$$(x \circ (y \circ z)) \circ (y \circ z) = x \circ (y \circ z),$$
$$((x \circ y) \circ ((y \circ z) \circ z)) \circ ((y \circ z) \circ z) = y,$$
$$((x \circ y) \circ ((y \circ z) \circ z)) \circ ((y \circ z) \circ z) = ((x \circ ((x \circ y) \circ ((y \circ z) \circ z))) \circ ((y \circ z) \circ z)) \circ ((y \circ z) \circ z),$$
$$ x \circ ((x \circ y) \circ y) = x,$$
$$ x \circ (x \circ (y \circ z)) = x,$$
$$ (x \circ y) \circ y = x \circ y,$$
$$ (x \circ x) \circ x = x,$$
$$ (x \circ y) \circ y = y,$$
$$ x \circ y = y.$$
\end{proof}

The following result was established in \cite{mendelsohn-padmanabhan}.

\begin{theorem}[Consequences of 1571]\label{1571_impl}\uses{eq1571, eq2662, eq40, eq23, eq8, eq16, eq14, eq43, eq4512}\lean{Subgraph.Equation1571_implies_Equation2662, Subgraph.Equation1571_implies_Equation40, Subgraph.Equation1571_implies_Equation23,Subgraph.Equation1571_implies_Equation8, Subgraph.Equation1571_implies_Equation16, Subgraph.Equation1571_implies_Equation43, Subgraph.Equation1571_implies_Equation4512}\leanok  Magmas obeying Definition \ref{eq1571} also obey Definitions \ref{eq2662}, \ref{eq40}, \ref{eq23}, \ref{eq8}, \ref{eq16}, \eqref{eq14}, \ref{eq43}, and \ref{eq4512}, and are in fact abelian groups of exponent two.  Conversely, all abelian groups of exponent two obey Definition \ref{eq1571}.
\end{theorem}

\begin{proof}\leanok  Suppose that a magma $G$ obeys Definition \ref{eq1571}, thus
\begin{equation}\label{1571-again}
 x = (y \circ z) \circ (y \circ (x \circ z)).
\end{equation}
$$ x = ((x \circ y) \circ (x \circ y)) \circ ((x \circ y) \circ (x \circ (x \circ y)))$$
and
$$ x = (x \circ y) \circ (x \circ (x \circ y))$$
whence
$$x = ((x \circ y) \circ (x \circ y)) \circ x$$
which is Definition \ref{eq2662}.  This gives
$$y = ((y \circ z) \circ (y \circ z)) \circ y$$
while from \eqref{1571-again} one has
$$ (y \circ z) \circ (y \circ z) = (x \circ y) \circ (x \circ ((y \circ z) \circ (y \circ z) \circ y))$$
whence
$$ (x \circ y) \circ (x \circ y) = (y \circ z) \circ (y \circ z).$$
This implies that $(x \circ y) \circ (x \circ y)$ does not depend on $x$, or on $y$, hence is equal to some constant $e$:
$$ (x \circ y) \circ (x \circ y) = e.$$
From \eqref{1571-again} the magma operation is surjective, hence
\begin{equation}\label{xxe} x \circ x = e
\end{equation}
which gives Definition \ref{eq40}.  Applying \eqref{1571-again} with $x=y=z$ we conclude
$$ x = e \circ (x \circ e)$$
while if we instead take $y=z=e$ we have
$$ x = e \circ (e \circ (x \circ e))$$
hence
$$ x = e \circ x$$
and then also
$$ x = x \circ e$$
from which we readily conclude Definitions \ref{eq23}, \ref{eq8}; thus $e$ is an identity element.  From \eqref{1571-again} with $z=e$ we now have
\begin{equation}\label{16-again}
 x = y \circ (y \circ x)
\end{equation}
which is Definition \ref{eq16}. If instead we take $y=e$ we have
\begin{equation}\label{14-again}
  x = z \circ (x \circ z)
\end{equation}
which is Definition \ref{eq14}.  So if we substitute $z = x \circ y$ and use \eqref{16-again} we obtain
$$ x = (x \circ y) \circ y$$
and hence
$$ y \circ x = y \circ ((x \circ y) \circ y) = x \circ y$$
thanks to \eqref{14-again}.  This gives Definition \ref{eq43}, thus $G$ is now commutative.  From \eqref{1571-again} once more one has
$$x \circ (y \circ z) = (y \circ x) \circ (z \circ ((x \circ (y \circ z)) \circ x))$$
which one can simplify using commutativity and \eqref{16-again} (or \eqref{14-again}) to eventually obtain
$$x \circ (y \circ z) = (x \circ y) \circ z$$
which is Definition \ref{eq4512}.  $G$ is now commutative and associative, and every element is its own inverse and of exponent $2$, hence is an abelian group thanks to \eqref{xxe}, so $G$ is an abelian group of exponent $2$ as claimed.  The converse is easily verified.
\end{proof}

\begin{theorem}[953 is equivalent to 2]\label{953_equiv_2}\uses{eq953, eq2}  Definition \ref{eq953} is equivalent to Definition \ref{eq2}.
\end{theorem}

\begin{proof}  It suffices to show that Definition \ref{eq953} implies Definition \ref{eq2}.  Pick an element $0$ of $G$ and define $1 = 0 \circ 0$ and $2 = 1 \circ 1$ (we do not require $0,1,2$ to be distinct).
From Definition \ref{eq953} with $x=z=0$ we have
$$ 0 = y \circ 2.$$
If we then apply Definition \ref{eq953} with $z=1$ we conclude that
$$ x = y \circ 0$$
for all $x,y$, from which one concludes $x=x'$ for any $x,x' \in G$, giving Definition \ref{eq2}.
\end{proof}
